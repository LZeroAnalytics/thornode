version: '3'

services:


  tss0:
    container_name: tss0
    image: golang:1.13
    working_dir: /home/user/
    command: bash /home/user/config/run.sh
    stdin_open: true
    tty: true
    ports:
      - 6433:5433
    environment:
    - LOG=${LOG:-gaiad.log}
    volumes:
    - ./build/Data/data0:/home/user/config:Z
    - /Users/yb/go/src/thorchain-tss:/home/user/tss:z
    networks:
      localnet:
        ipv4_address: 192.168.10.2

  tss1:
    container_name: tss1
    image: golang:1.13
    working_dir: /home/user/
    command: bash /home/user/config/run.sh
    stdin_open: true
    tty: true
    ports:
    - 6434:5433
    environment:
    - LOG=${LOG:-gaiad.log}
    volumes:
    - ./build/Data/data1:/home/user/config:Z
    - /Users/yb/go/src/thorchain-tss:/home/user/tss:z

    networks:
      localnet:
        ipv4_address: 192.168.10.3

  tss2:
    container_name: tss2
    image: golang:1.13
    working_dir: /home/user/
    command: bash /home/user/config/run.sh
    stdin_open: true
    tty: true
    ports:
    - 6435:5433

    environment:
    - LOG=${LOG:-gaiad.log}
    volumes:
    - ./build/Data/data2:/home/user/config:Z
    - /Users/yb/go/src/thorchain-tss:/home/user/tss:z

    networks:
      localnet:
        ipv4_address: 192.168.10.4

  tss3:
    container_name: tss3
    image: golang:1.13
    working_dir: /home/user/
    command: bash /home/user/config/run.sh
    # stdin_open: true
    # tty: true
    ports:
    - 6436:5433

    environment:
    - LOG=${LOG:-gaiad.log}
    volumes:
    - ./build/Data/data3:/home/user/config:Z
    - /Users/yb/go/src/thorchain-tss:/home/user/tss:z

    networks:
      localnet:
        ipv4_address: 192.168.10.5

networks:
  localnet:
    driver: bridge
    ipam:
      driver: default
      config:
      - subnet: 192.168.10.0/16
